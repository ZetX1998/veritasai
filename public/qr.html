<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <title>QR platba</title>
</head>
<body>
  <h2>Zaplaťte pomocí QR kódu</h2>

  <p>Částka: <strong id="amount"></strong> Kč</p>
  <p>ID platby: <strong id="pid"></strong></p>

  <img id="qr" />

  <script>
    const params = new URLSearchParams(location.search);
    const amount = params.get("amount");
    const id = params.get("id");

    document.getElementById("amount").innerText = amount;
    document.getElementById("pid").innerText = id;

    const qrData = `SPD*1.0*ACC:CZ1234567890/0100*AM:${amount}*CC:CZK*MSG:${id}`;

    document.getElementById("qr").src =
      "https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=" +
      encodeURIComponent(qrData);
  </script>
</body>
</html>
